<div class="p-6">
  @if (viewState() === 'list') {
    <app-roles-list
      [roles]="roles() || []"
      [loading]="loading()"
      (add)="onAdd()"
      (edit)="onEdit($event)"
      (delete)="onDelete($event)"
      (managePermissions)="onManagePermissions($event)">
    </app-roles-list>
  } @else if (viewState() === 'form') {
    <app-roles-form
      [role]="selectedRole()"
      [loading]="saving()"
      (saved)="onSave($event)"
      (cancelled)="onCancel()">
    </app-roles-form>
  } @else if (viewState() === 'permissions') {
    <app-manage-permissions
      [roleId]="selectedRole()?.id || ''"
      [roleNameLabel]="selectedRole()?.name || ''"
      (saved)="onPermissionsSave()"
      (cancelled)="onCancel()">
    </app-manage-permissions>
  }
</div>
